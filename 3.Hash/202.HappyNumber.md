[202. Happy Number](https://leetcode.com/problems/happy-number/description/)


![Difficulty](https://img.shields.io/badge/Difficulty-Easy-brightgreen)
![Tag](https://img.shields.io/badge/Tag-Hash%20Table-lightgrey)


---

## ğŸ“ Description

Write an algorithm to determine if a number n is happy.

A happy number is a number defined by the following process:

Starting with any positive integer, replace the number by the sum of the squares of its digits.
Repeat the process until the number equals 1 (where it will stay), or it loops endlessly in a cycle which does not include 1.
Those numbers for which this process ends in 1 are happy.

Return true if n is a happy number, and false if not.


Example 1:
- Input: n = 19
- Output: true
- Explanation:

    1Â² + 9Â² = 82
    
    8Â² + 2Â² = 68
    
    6Â² + 8Â² = 100 
    
    1Â² + 0Â² + 0Â² = 1 


Example 2:
- Input: n = 2
- Output: false


---

## ğŸ’¡ Solution

### Logic 
è¿™é“é¢˜ç›®çœ‹ä¸Šå»è²Œä¼¼ä¸€é“æ•°å­¦é—®é¢˜ï¼Œå…¶å®å¹¶ä¸æ˜¯ï¼

é¢˜ç›®ä¸­è¯´äº†ä¼š æ— é™å¾ªç¯ï¼Œé‚£ä¹ˆä¹Ÿå°±æ˜¯è¯´æ±‚å’Œçš„è¿‡ç¨‹ä¸­ï¼Œsumä¼š**é‡å¤å‡ºç°**ï¼Œè¿™å¯¹è§£é¢˜å¾ˆé‡è¦ï¼

True:
![img_1.png](images/img_1.png)

False:
![img.png](images/img.png)

### Complexity Analysis

#### Time: O(nlogn) æˆ–è€… O(lognâ‹…logn) = $O(log^2n)$

æ¯æ¬¡è°ƒç”¨ getSumOfSquares éƒ½æ˜¯ O(log n)ï¼Œå› ä¸ºä¸€ä¸ªæ•°çš„ä½æ•°æ˜¯ logâ‚â‚€n â‰ˆ log nã€‚

æ—¶é—´å¤æ‚åº¦åˆ†æï¼šO(log n) Ã— è¿­ä»£æ¬¡æ•°ã€‚

- å¦‚æœä¸æƒ³è¯æ˜ï¼Œå¯ä»¥è¿‘ä¼¼è¿­ä»£æ¬¡æ•°æœ€å¤§å€¼ä¸º`n`ã€‚ å¾—åˆ°Time Complexity O(nlogn) ã€‚

- å¦‚æœè¯æ˜ï¼š

  è¿­ä»£åœæ­¢ç›´åˆ°ï¼š
  - ç»“æœå˜æˆ 1 (Converge)
  - å‡ºç°å¾ªç¯ (é€šè¿‡æ•°å­¦ä¹Ÿå¯ä»¥æ±‚å‡ºConverge)


**Proof:** 

For integer `n` with `d` digits, let the sum of its squared digits be `s(n)`.

The maximum value for `s(n)` is when all digits in `n` is $9$, then $s(n) \leq 9^2\cdot d$.

The smallest number for `n` with `d` digits is $10^{d-1} \leq n$, which is equivalent to $d \leq (log_{10}{n})+1$.

Therefore, $s(n) \leq 9^2\cdot d \leq 81log_{10}{n} + 81 = O(log_{10}n)$, which is why cyclic repetitions appear.
**QED**.



To visualize the convergence, see the following table:

| d  | 81 Ã— d | 10^(dâˆ’1)  | Inequality 81 Ã— d < 10^(dâˆ’1) |
|----|--------|------------|----------------------|
| 1  | 81     | 1          | âŒ False              |
| 2  | 162    | 10         | âŒ False              |
| 3  | 243    | 100        | âŒ False              |
| 4  | 324    | 1,000      | âœ… True               |
| 5  | 405    | 10,000     | âœ… True               |
| 6  | 486    | 100,000    | âœ… True               |
| 7  | 567    | 1,000,000  | âœ… True               |

For example, for number with 4 digits, $s(9999) < 1000$, so the sum of its squared digits has maximum 324 options.





#### Space: O(nlogn) æˆ–è€… O(lognâ‹…logn) = $O(log^2n)$

Maximum size for the set created

---

## ğŸ” Code

```python
def isHappy(self, n: int) -> bool:
    set_sum = set()
    while True:
        n = getSumOfSquares(n)
        if n == 1: 
            return True
        if n in set_sum: 
            return False
        else: 
            set_sum.add(n)
        
def getSumOfSquares(n):
    sum_squares = 0
    while n != 0:
        sum_squares += (n % 10) ** 2 # add squares
        n = n // 10
    return sum_squares
```


