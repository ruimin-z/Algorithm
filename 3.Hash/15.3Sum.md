# [15. 3Sum](https://leetcode.com/problems/3sum/description/)


![Difficulty](https://img.shields.io/badge/Difficulty-Medium-orange)
![Tag](https://img.shields.io/badge/Tag-Hash%20Table-lightgrey)
![Tag](https://img.shields.io/badge/Tag-Two%20Pointers-lightgrey)


---

## ğŸ“ Description

> Given an array nums of n integers, return an array of all the unique quadruplets [nums[a], nums[b], nums[c], nums[d]] such that:
>
> 0 <= a, b, c, d < n
>
> a, b, c, and d are distinct.
> 
> nums[a] + nums[b] + nums[c] + nums[d] == target
>
> You may return the answer in any order.


## ğŸ“šSimilar Questions
[1.TwoSum](1.TwoSum.md), 15.3Sum in Hash, [15.3Sum in Two Pointers](../5.TwoPointers/15.3Sum.md), [18.4Sum](../5.TwoPointers/18.4Sum.md), [454.4SumII](454.4SumII.md)

---

## ğŸ’¡ Solution

### Logic 

éš¾ç‚¹åœ¨å‰ªæå’Œå»é‡ã€‚

- Different from [1.TwoSum](./1.TwoSum.md) and [454.4SumII](./454.4SumII.md), the input is only one array
- Need to remove duplicates 

1. Brute Force - three nested for loops $O(n^3)$

**2. Use Hash Set ï¼ˆå“ˆå¸Œæ³•å¾ˆå¤æ‚å› ä¸ºéœ€è¦å»é‡ï¼ï¼‰**

3. Two Pointers (å› ä¸ºè¿”å›çš„ä¸æ˜¯ä¸‹æ ‡indexï¼Œå¦‚æœè¿”å›ä¸‹æ ‡å°±ä¸èƒ½ç”¨åŒæŒ‡é’ˆï¼Œå› ä¸ºåŒæŒ‡é’ˆéœ€è¦æ’åºï¼Œindexä¼šä¹±)
   - Need sort

 
### Complexity Analysis

- Timeï¼šO(n^2)

- Spaceï¼šO(n), dictionary structure


---
## ğŸ” Code

### Version 1 - Hash Set
```python
def threeSum(nums: list[int]) -> list[list[int]]:
   result = []
   nums.sort()
   # æ‰¾å‡ºa + b + c = 0
   # a = nums[i], b = nums[j], c = -(a + b)
   for i in range(len(nums)):
      # æ’åºä¹‹åå¦‚æœç¬¬ä¸€ä¸ªå…ƒç´ å·²ç»å¤§äºé›¶ï¼Œé‚£ä¹ˆä¸å¯èƒ½å‡‘æˆä¸‰å…ƒç»„
      if nums[i] > 0:
          break
      if i > 0 and nums[i] == nums[i - 1]: #ä¸‰å…ƒç»„å…ƒç´ aå»é‡
          continue
      d = {}
      for j in range(i + 1, len(nums)):
          if j > i + 2 and nums[j] == nums[j-1] == nums[j-2]: # ä¸‰å…ƒç»„å…ƒç´ bå»é‡
              continue
          c = 0 - (nums[i] + nums[j])
          if c in d:
              result.append([nums[i], nums[j], c])
              d.pop(c) # ä¸‰å…ƒç»„å…ƒç´ cå»é‡
          else:
              d[nums[j]] = j
   return result
```

- ä¸ºä»€ä¹ˆbå»é‡éœ€è¦æ»¡è¶³è¿ç»­ä¸‰ä¸ªï¼Ÿ
  - å‡è®¾ i, j-1, jä¸‰ä¸ªæ•°å­—
    - å¦‚æœä¸¤ä¸ªè¿ç»­ç›¸ç­‰`nums[j-1]==nums[j]`ï¼Œå¯èƒ½ä¸‰ä¸ªç›¸åŠ æ»¡è¶³0ã€‚æ¯”å¦‚ï¼š-2, 1, 1
    - ä½†å¦‚æœä¸‰ä¸ªè¿ç»­ç›¸ç­‰`nums[j-2]==nums[j-1]==nums[j]`ï¼Œä¸€å®šæ˜¯éœ€è¦`nums[j]` continueçš„æƒ…å†µã€‚


### Version 2 - Two Pointers

[15.3Sum in Two Pointers](../5.TwoPointers/15.3Sum.md)